/* ========== 主题（深色，与侧边栏一致的观感） ========== */
:root{
  --slate-900:#0f172a;
  --slate-800:#1e293b;
  --slate-700:#334155;
  --ink-1:#e5e7eb;
  --ink-2:#cbd5e1;
  --ink-3:#94a3b8;
  --ring: rgba(255,255,255,.08);
  --card: #111827;               /* 卡片深灰 */
  --card-2:#0b1220;              /* 更深背景 */
  --grad: linear-gradient(135deg,#06b6d4,#14b8a6);
  --shadow: 0 12px 36px rgba(2,6,23,.45);
}

/* ========== 页面固定大小：居中 1180px 宽，满高 ========== */
.ait-page{
  min-height:100vh;
  height:100vh;
  overflow:hidden;  /* 避免页面被撑长 */
  background: linear-gradient(180deg,var(--slate-900),var(--slate-800));
  color: var(--ink-1);
  display:grid; place-items:center;
}

.ait-wrap{
  width:1400px;
  height:100vh;
  padding:18px;
  display:grid;
  grid-template-columns: 300px 1fr;
  gap:18px;
  box-sizing:border-box;
  overflow:hidden;
}

/* ========== 卡片公共样式 ========== */
.ait-card{
  background: var(--card);
  border-radius:16px;
  box-shadow: var(--shadow);
  border:1px solid var(--ring);
}

/* ========== 左侧会话栏 ========== */
.ait-sessions{
  background: var(--card);
  border-radius:16px;
  box-shadow: var(--shadow);
  border:1px solid var(--ring);
  padding:14px;
  display:flex; flex-direction:column;
  height: calc(100vh - 36px);
  min-height:0;
  overflow:hidden;
}

.ait-sessions-top{
  display:flex; align-items:center; justify-content:space-between;
  padding-bottom:10px; border-bottom:1px solid var(--ring);
}
.ait-brand{ display:flex; align-items:center; gap:10px; color:var(--ink-1); font-weight:700; }
.ait-dot{ width:22px; height:22px; border-radius:6px; background:var(--grad); box-shadow:0 0 0 3px rgba(255,255,255,.06); }

.ait-mini{
  border:none; border-radius:10px; padding:6px 10px; cursor:pointer;
  background: var(--grad); color:#fff; font-weight:700;
  box-shadow:0 8px 22px rgba(20,184,166,.35);
}

.ait-session-list{
  list-style:none; margin:0; padding:10px 0 0;
  overflow:auto;
  flex:1;
  min-height:0;
}
.ait-session{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 10px; border-radius:12px; color:var(--ink-1);
}
.ait-session:hover{ background: rgba(255,255,255,.03); }
.ait-session.is-active{ outline:2px solid rgba(20,184,166,.35); background: rgba(20,184,166,.06); }
.ait-title{ flex:1; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; cursor:pointer; }
.ait-x{ border:none; background:transparent; color:var(--ink-3); cursor:pointer; font-size:18px; }

/* ========== 右侧聊天面板 ========== */
.ait-chat{
  background: var(--card);
  border-radius:16px;
  box-shadow: var(--shadow);
  border:1px solid var(--ring);
  padding:14px;
  height: calc(100vh - 36px);
  min-height:0;
  overflow:hidden;

  display:grid;
  grid-template-rows:
    auto  /* head */
    auto  /* tip */
    auto  /* option */
    1fr   /* messages */
    auto  /* chips */
    auto  /* input */
    auto; /* foot */
  row-gap:10px;
  min-width:0;
}

/* 顶部 */
.ait-head{ display:flex; gap:12px; align-items:center; }
.ait-logo{
  width:40px; height:40px; border-radius:12px; display:grid; place-items:center;
  background: linear-gradient(135deg,#0ea5e9,#22d3ee);
  box-shadow:0 8px 22px rgba(14,165,233,.35);
}
.ait-h1{ font-size:20px; font-weight:800; line-height:1; }
.ait-hint{ color:var(--ink-3); font-size:12px; }

.ait-tip{
  color:var(--ink-2);
  background: #0b1220;
  border:1px dashed var(--ring);
  border-radius:12px;
  padding:8px 10px;
}

.ait-option{
  display:inline-flex; align-items:center; gap:8px;
  color:var(--ink-2);
}
.ait-option input{ accent-color:#10b981; }

/* === 消息区 === */
.ait-msgs{
  background: var(--card-2);
  border-radius:14px;
  border:1px solid var(--ring);
  padding:8px 6px;
  overflow:auto;
  min-height:0;
}

.ait-row{ display:flex; gap:10px; padding:10px 12px; }
.ait-avatar{
  width:36px; height:36px; border-radius:10px;
  background: linear-gradient(135deg,#0ea5e9,#22d3ee);
  color:#001018; display:grid; place-items:center; font-weight:900;
}
.from-ai .ait-avatar{
  background: linear-gradient(135deg,#10b981,#34d399);
  color:#00170f;
}

/* 气泡：固定宽度，自适应高度 */
.ait-bubble{
  width:700px;
  padding:12px 14px;
  border-radius:14px;
  color: var(--ink-1);
  background:#121826;
  border:1px solid var(--ring);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.03);
  overflow-x:auto;       /* 支持横向滚动 */
  overflow-y:auto;       /* 内容太长时可滚动 */
  max-height:70vh;       /* 单条消息最大高度 */
  line-height:1.6;
  word-break:break-word;
}

.from-user .ait-bubble{ background:#0f1a24; }
.from-ai   .ait-bubble{ background:#0f1f1a; }

/* 滚动条美化 */
.ait-bubble::-webkit-scrollbar { width: 6px; }
.ait-bubble::-webkit-scrollbar-track { background: transparent; }
.ait-bubble::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 3px;
}
.ait-bubble::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* ===== 修复 Markdown 列表 ===== */
.ait-bubble ol,
.ait-bubble ul {
  margin: 0;
  padding-left: 2em;  /* 留出空间避免数字贴边 */
}
.ait-bubble li {
  margin: 6px 0;
  line-height: 1.6;
}
.ait-bubble ol { list-style-type: decimal; list-style-position: outside; }
.ait-bubble ul { list-style-type: disc; list-style-position: outside; }

/* ===== 表格样式（暗色统一） ===== */
/* ===== AI 聊天气泡里的表格样式（暗色风格） ===== */
.ait-bubble table {
  width: 100%;
  border-collapse: collapse;
  margin: 10px 0;
  background: #1a2433;              /* 整个表格的深色背景 */
  color: var(--ink-1);              /* 统一浅色文字 */
  border: 1px solid var(--ring);
  border-radius: 8px;
  overflow: hidden;
}

.ait-bubble th,
.ait-bubble td {
  padding: 10px 12px;
  border: 1px solid rgba(255,255,255,0.8); /* 半透明边框 */
  text-align: left;
  background: #1a2433;              /* ✅ 保证每个格子都是深色 */
  color: var(--ink-1);              /* ✅ 文字用浅色 */
}

.ait-bubble th {
  background: #223044;              /* 表头稍微深一点，区分 */
  font-weight: 700;
  color: #e5e7eb;                   /* 更亮一点的文字 */
}


/* chips */
.ait-chips{ display:flex; gap:8px; flex-wrap:wrap; }
.ait-chip{
  border:1px solid var(--ring);
  background:#0b1220;
  color:var(--ink-2);
  padding:6px 10px; border-radius:999px; cursor:pointer;
}
.ait-chip:hover{ background:#0e1624; }

/* 输入区 */
.ait-input{
  display:flex; align-items:center; gap:10px;
  background:#0b1220;
  border:1px solid var(--ring);
  border-radius:14px; padding:10px 10px;
}
.ait-text{
  flex:1; border:none; outline:none; font-size:15px;
  color:var(--ink-1); background:transparent;
}
.ait-actions{ display:flex; align-items:center; gap:8px; }
.ait-icon{
  border:none; background:#111827; color:var(--ink-2);
  border-radius:10px; padding:6px 10px; cursor:pointer;
}
.ait-send{
  border:none; border-radius:10px; padding:8px 16px; cursor:pointer; color:#001b18;
  background: var(--grad); font-weight:800;
  box-shadow:0 10px 26px rgba(20,184,166,.35);
}

/* 页脚 */
.ait-foot{ color:var(--ink-3); }
.ait-foot a{ color:var(--ink-2); text-decoration:none; }
.ait-foot a:hover{ text-decoration:underline; }

/* KaTeX */
.katex-display{ overflow:auto hidden; }

/* 小屏适配 */
@media (max-width: 1220px){
  .ait-page{ display:block; }
  .ait-wrap{ width:1180px; margin:0 auto; }
  body{ overflow-x:auto; }
}
/* 用户消息行：反转布局（头像在右边） */
.from-user {
  flex-direction: row-reverse;  /* 水平反转 */
}

.from-user .ait-avatar {
  margin-left: 10px;   /* 给气泡和头像留点间距 */
  margin-right: 0;
}
